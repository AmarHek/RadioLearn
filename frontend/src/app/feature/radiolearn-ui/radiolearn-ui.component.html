<html>
<body class="disable-select">
<div id="outer">
  <div id="inner_fixed">
    <mat-toolbar color="primary">
      <button mat-icon-button [routerLink]="['/', 'radiolearn', 'list']">
        <mat-icon>arrow_back_ios</mat-icon>
      </button>
      <span [routerLink]="['/', 'radiolearn', 'list']" style="font-size: 22px; cursor: pointer">RadioLearn</span>
      <span class="spacer"></span>
      <button mat-button id="normal-btn"
              (click)="makeNormal()">Rest normal
      </button>
      <button mat-button id="open-images" *ngIf="isMod"
              (click)="switchMode()">Toggle UserMode
      </button>
      <button mat-button id="feedback"
              (click)="feedbackModal()">Feedback</button>
      <button mat-button id="check"
              (click)="check()">Prüfen
      </button>
      <button *ngIf="isMod" mat-button id="save"
              (click)="save()">Speichern
      </button>
      <button mat-button id="next"
              (click)="next()">Nächste Aufnahme</button>
    </mat-toolbar>

  </div>

  <div id="inner_remaining">
    <mat-selection-list *ngIf="this.categories" [multiple]="false" [(ngModel)]="selectedCat">
      <ng-container *ngFor="let cat of categories">
        <mat-list-option [value]="cat.name"
                         [selected]="categories.indexOf(cat) === 0">
          {{cat.name}}
        </mat-list-option>
      </ng-container>
      <!--<mat-list-option value="report" (click)="updateText()">Bericht</mat-list-option>-->
    </mat-selection-list>

    <div class="options-expand" *ngIf="categories">
      <div class="container">
        <div class="row">
          <div class="col">
            <button mat-flat-button color="primary"
                    disabled="{{getSelectedCatIndex() === 0}}"
                    (click)="previousCategory()">Zurück
            </button>
          </div>
          <div class="col">
            <button mat-flat-button color="primary" class="float-end"
                    disabled="{{getSelectedCatIndex() === (categories.length - 1)}}"
                    (click)="nextCategory()">Vor
            </button>
          </div>
        </div>
      </div>

      <app-radiolearn-options style="float: left" [selectedCat]="selectedCat[0]"
                              [categories]="categories">
      </app-radiolearn-options>
    </div>
    <!--<app-report  class="report" [report]="report" [judgement]="judgement"></app-report>-->

    <app-inline-image-display *ngIf="material && !userMode && isMod"
                              [scans]="material.scans"
                              [annotations]="material.annotations"></app-inline-image-display>

    <<app-inline-image-display-student *ngIf="material && userMode"
                              ></app-inline-image-display-student>
  </div>

</div>
</body>
</html>

